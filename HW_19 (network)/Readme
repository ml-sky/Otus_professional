Теоретическая часть

Найти свободные подсети
Посчитать сколько узлов в каждой подсети, включая свободные
Указать broadcast адрес для каждой подсети
Проверить нет ли ошибок при разбиении

Сеть central
- 192.168.0.0/28     - directors
Network:   192.168.0.0/28
Broadcast: 192.168.0.15
Первый хост:   192.168.0.1
Последний хост:   192.168.0.14
Количество ip для хостов: 14      
- 192.168.0.32/28    - office hardware
Network:   192.168.0.32/28
Broadcast: 192.168.0.47
Первый хост:   192.168.0.33
Последний хост:   192.168.0.46
Количество ip для хостов: 14
- 192.168.0.64/26    - wifi
Network:   192.168.0.64/26
Broadcast: 192.168.0.127
Первый хост:   192.168.0.65
Последний хост:   192.168.0.126
Количество ip для хостов: 62

Свободная сеть:
192.168.0.16/28
Broadcast: 192.168.0.31
Количество ip для хостов: 14

192.168.0.48/28
Broadcast: 192.168.0.63
Количество ip для хостов: 14

192.168.0.128/25
Broadcast: 192.168.0.255
Количество ip для хостов: 126


Сеть office1
- 192.168.2.0/26      - dev
Network:   192.168.2.0/26
Broadcast: 192.168.2.63
Первый хост:   192.168.2.1
Последний хост:   192.168.2.62
Количество ip для хостов: 62  
- 192.168.2.64/26     - test servers
Network:   192.168.2.64/26
Broadcast: 192.168.2.127
Первый хост:   192.168.2.65
Последний хост:   192.168.2.126
Количество ip для хостов: 62
- 192.168.2.128/26    - managers
Network:   192.168.2.128/26
Broadcast: 192.168.2.191
Первый хост:   192.168.2.129
Последний хост:   192.168.2.190
Количество ip для хостов: 62
- 192.168.2.192/26    - office hardware
Network:   192.168.2.192/26
Broadcast: 192.168.2.255
Первый хост:   192.168.2.193
Последний хост:   192.168.2.254
Количество ip для хостов: 62

Свободных сетей нет

Сеть office2
- 192.168.1.0/25      - dev
Network:   192.168.1.0/25
Broadcast: 192.168.1.127
Первый хост:   192.168.1.1
Последний хост:   192.168.1.126
Количество ip для хостов: 126
- 192.168.1.128/26    - test servers
Network:   192.168.1.128/26
Broadcast: 192.168.1.191
Первый хост:   192.168.1.129
Последний хост:   192.168.1.190
Количество ip для хостов: 62
- 192.168.1.192/26    - office hardware
Network:   192.168.1.192/26
Broadcast: 192.168.1.255
Первый хост:   192.168.1.193
Последний хост:   192.168.1.254
Количество ip для хостов: 62

Свободных сетей нет

InetRouter — CentralRouter network
Network: 192.168.255.0/30
Broadcast: 192.168.255.3
Первый хост: 192.168.255.1
Последний хост: 192.168.255.2
Количество ip для хостов: 2

Свободные сети:

192.168.255.128/25
Broadcast: 192.168.255.254
Количество ip для хостов: 126
192.168.255.64/26
Broadcast: 192.168.255.127
Количество ip для хостов: 62
192.168.255.32/27
Broadcast: 192.168.255.63
Количество ip для хостов: 30
192.168.255.16/28
Broadcast: 192.168.255.31
Количество ip для хостов: 14
192.168.255.8/29  
Broadcast: 192.168.255.15
Количество ip для хостов: 6
192.168.255.4/30
Broadcast: 192.168.255.7
Количество ip для хостов: 2


Практическая часть

Vagrantfile который разворачивает 7 серверов:

inetRouter
На данном сервере настроен NAT. Для того чтобы другие сети и сервера имели выход в интернет.
#Сеть inetRouter
ip: '192.168.255.1' netmask: "255.255.255.252"

centralRouter
Основной сервер , к которому подключается CentralServer (с Directors network) и офисные сети (office1Router и office2Router)
#Для связки с InetRouter
ip: '192.168.255.2', netmask: "255.255.255.252"
#Для Directors сети
ip: '192.168.0.1' netmask: "255.255.255.240"
#Office Hardware сеть
ip: '192.168.0.33', netmask: "255.255.255.240"
#Office Wifi сеть
ip: '192.168.0.65', netmask: "255.255.255.192"
#Также через nmcli на eth1 будет повешено 2 дополнительных ip для связки office1Router и office2Router
# nmcli connection modify "System eth1" +ipv4.addresses "192.168.250.1/30"; sudo nmcli connection modify "System eth1" +ipv4.addresses "192.168.240.1/30"

office1Router
Сервер для связанности office1Server c centralRouter
#Сеть "повешенный" на eth1 для связанности с centralRouter
ip: '192.168.250.2', netmask: "255.255.255.252"
#Сеть для office1Server
ip: '192.168.2.1', netmask: "255.255.255.192"
#Сеть testServers
ip: '192.168.2.65', netmask: "255.255.255.192"
#Сеть managers
ip: '192.168.2.129', netmask: "255.255.255.192"
#Office Hardware сеть
ip: '192.168.2.193', netmask: "255.255.255.192"

office2Router
Сервер для связанности office2Server c centralRouter
#Сеть "повешенный" на eth1 для связанности с centralRouter
ip: '192.168.240.2', netmask: "255.255.255.252"
#Сеть для office2Server
ip: '192.168.1.1', netmask: "255.255.255.192"
#Сеть testServers
ip: '192.168.1.129', netmask: "255.255.255.192"
#Office Hardware сеть
ip: '192.168.1.193', netmask: "255.255.255.192"

centralServer
Центральный сервер с Directors network
#Сеть для связанности с centralRouter
ip: '192.168.0.2', adapter: 2, netmask: "255.255.255.240"

office1Server
Сервер office1
#ip на интерфейс сервера
ip: '192.168.2.2', netmask: "255.255.255.192"

trace до ya.ru
[root@office1Server ~]# traceroute ya.ru
traceroute to ya.ru (77.88.55.242), 30 hops max, 60 byte packets
 1  gateway (192.168.2.1)  0.334 ms  0.301 ms  0.278 ms
 2  192.168.250.1 (192.168.250.1)  0.458 ms  0.439 ms  0.421 ms
 3  192.168.255.1 (192.168.255.1)  0.779 ms  0.759 ms  0.779 ms

office2Server
Сервер office2
#ip на интерфейс сервера
ip: '192.168.1.2', netmask: "255.255.255.192"

trace до ya.ru
[root@office2Server ~]# traceroute ya.ru
traceroute to ya.ru (77.88.55.242), 30 hops max, 60 byte packets
 1  gateway (192.168.1.1)  0.387 ms  0.354 ms  0.328 ms
 2  192.168.240.1 (192.168.240.1)  0.493 ms  0.473 ms  0.932 ms
 3  192.168.255.1 (192.168.255.1)  0.872 ms  0.849 ms  0.831 ms


